<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article Generator - 記事生成クリッカー</title>
    <meta name="description" content="記事を生成し、悟りを目指すクリッカーゲーム。仏教観の現代的解釈をゲーム体験を通じて提示する。">

    <!-- CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/ui.css">
    <link rel="stylesheet" href="css/bulk-purchase.css">
    <link rel="stylesheet" href="css/animations.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Noto+Serif+JP:wght@700&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- ヘッダー: 統計情報表示 -->
    <header id="game-header">
        <div class="header-content">
            <div class="stat-group">
                <div class="stat-item primary">
                    <span class="stat-label">記事</span>
                    <span id="article-count" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">CpS</span>
                    <span id="cps-display" class="stat-value">0</span>
                </div>
            </div>
            <div class="stat-group">
                <!-- 悟りボタン（転生可能時にPVの左に表示） -->
                <button id="prestige-button" class="enlighten-btn" style="display: none;" title="悟りを開く">
                    🪷 悟りを開く
                </button>
                <div class="stat-item pv-display">
                    <span class="stat-label">PV</span>
                    <span id="pv-count" class="stat-value">3</span>
                </div>
                <div class="stat-item prestige-display" id="toku-container" style="display: none;">
                    <span class="stat-label">得</span>
                    <span id="toku-count" class="stat-value">0</span>
                </div>
                <!-- ハンバーガーメニュー -->
                <div class="hamburger-menu">
                    <button id="hamburger-btn" class="hamburger-btn" aria-label="メニュー">
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                    </button>
                    <div id="hamburger-dropdown" class="hamburger-dropdown">
                        <button id="menu-save" class="dropdown-item">💾 保存</button>
                        <button id="menu-stats" class="dropdown-item">📊 統計</button>
                        <button id="menu-settings" class="dropdown-item">⚙️ 設定</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- フレーバーテキストティッカー (ヘッダー内へ移動) -->
        <div id="flavor-ticker" class="flavor-ticker">
            <div class="ticker-content">
                <span class="ticker-icon">🪷</span>
                <span id="flavor-content">システム起動中...</span>
            </div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main id="game-main">
        <!-- 左サイドバー: アップグレード -->
        <aside id="upgrades-panel" class="side-panel">
            <h2>アップグレード</h2>
            <div id="upgrades-list" class="panel-content">
                <!-- アップグレードは動的に追加 -->
                <p class="empty-message">解放されたアップグレードがありません</p>
            </div>
        </aside>

        <!-- 中央エリア: クリック対象 -->
        <section id="click-area" class="mobile-tab-content active">
            <div id="click-target" role="button" tabindex="0" aria-label="記事を生成する">
                <div class="monitor">
                    <div class="monitor-screen">
                        <div id="code-display" class="code-display"></div>
                    </div>
                    <div class="monitor-stand"></div>
                </div>
                <div class="keyboard">
                    <div class="keyboard-keys">
                        <div class="key-row">
                            <span class="key"></span><span class="key"></span><span class="key"></span>
                            <span class="key"></span><span class="key"></span><span class="key"></span>
                            <span class="key"></span><span class="key"></span><span class="key"></span>
                            <span class="key"></span>
                        </div>
                        <div class="key-row">
                            <span class="key"></span><span class="key"></span><span class="key"></span>
                            <span class="key"></span><span class="key"></span><span class="key"></span>
                            <span class="key"></span><span class="key"></span><span class="key"></span>
                        </div>
                        <div class="key-row">
                            <span class="key wide"></span>
                        </div>
                    </div>
                </div>
            </div>
            <p id="click-power-display">1クリック = <span id="click-power">1</span>記事</p>
        </section>

        <!-- 右サイドバー: 施設 -->
        <aside id="buildings-panel" class="side-panel">
            <h2>施設</h2>
            <div id="buildings-list" class="panel-content">
                <!-- 施設は動的に追加 -->
            </div>
        </aside>
    </main>

    <!-- モバイル用ナビゲーション -->
    <nav id="mobile-nav">
        <button class="nav-btn active" data-target="click-area">
            <span class="nav-icon">⌨️</span>
            <span class="nav-label">作成</span>
        </button>
        <button class="nav-btn" data-target="buildings-panel">
            <span class="nav-icon">🏢</span>
            <span class="nav-label">施設</span>
        </button>
        <button class="nav-btn" data-target="upgrades-panel">
            <span class="nav-icon">⚡</span>
            <span class="nav-label">強化</span>
        </button>
        <button class="nav-btn" id="mobile-settings-btn">
            <span class="nav-icon">⚙️</span>
            <span class="nav-label">設定</span>
        </button>
    </nav>

    <!-- フッター (PC用) -->
    <footer id="game-footer">
        <div class="footer-content">
            <span id="auto-save-indicator">自動保存: 有効</span>
        </div>
    </footer>



    <!-- モーダル: 転生確認 -->
    <div id="prestige-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>悟りに達しましたか？</h2>
            <div class="modal-body">
                <p>現在の記事数: <span id="prestige-articles">0</span></p>
                <p>獲得できる得: <span id="prestige-gain">0</span></p>
                <hr>
                <p class="warning">転生すると、記事と施設はすべてリセットされます。</p>
                <p class="info">得は永続的に保持されます。</p>
            </div>
            <div class="modal-buttons">
                <button id="prestige-confirm" class="btn-primary">転生する</button>
                <button id="prestige-cancel" class="btn-secondary">キャンセル</button>
            </div>
        </div>
    </div>

    <!-- モーダル: 統計 -->
    <div id="stats-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>プレイ統計</h2>
            <div class="modal-body">
                <div class="stat-row"><span>総生成記事数:</span> <span id="stat-total-articles" class="stat-val">0</span>
                </div>
                <div class="stat-row"><span>現在のCpS:</span> <span id="stat-current-cps" class="stat-val">0</span></div>
                <div class="stat-row"><span>累計クリック数:</span> <span id="stat-total-clicks" class="stat-val">0</span></div>
                <div class="stat-row"><span>プレイ時間:</span> <span id="stat-play-time" class="stat-val">0時間 0分 0秒</span>
                </div>
                <div class="stat-row"><span>転生回数:</span> <span id="stat-prestige-count" class="stat-val">0</span></div>
                <div class="stat-row"><span>座禅完了回数:</span> <span id="stat-total-zen" class="stat-val">0</span></div>
            </div>
            <div class="modal-buttons">
                <button id="stats-close" class="btn-secondary">閉じる</button>
            </div>
        </div>
    </div>

    <!-- モーダル: 設定 -->
    <div id="settings-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>設定</h2>
            <div class="modal-body">
                <div class="setting-item">
                    <div class="setting-row">
                        <span class="setting-label">パーティクル演出</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="setting-particles" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <p class="setting-desc">クリック時のエフェクトを表示します</p>
                </div>
                <div class="setting-item">
                    <div class="setting-row">
                        <span class="setting-label">記事落下エフェクト</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="setting-fall-effect" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <p class="setting-desc">記事生成時に紙が降り積もる演出（軽量化にはOFF推奨）</p>
                </div>
                <div class="setting-item">
                    <div class="setting-row">
                        <span class="setting-label">サウンド（未実装）</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="setting-sound" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <hr>
                <h3 class="setting-section-title">データ管理</h3>
                <div class="setting-item data-buttons">
                    <button id="settings-export" class="btn-data">📤 エクスポート</button>
                    <button id="settings-import" class="btn-data">📥 インポート</button>
                </div>
                <p class="setting-desc">セーブデータを別端末に移行したり、バックアップを取れます</p>
                <hr>
                <button id="settings-reset-save" class="btn-danger">進行状況をリセット</button>
            </div>
            <div class="modal-buttons">
                <button id="settings-close" class="btn-secondary">閉じる</button>
            </div>
        </div>
    </div>

    <!-- 座禅ゲージモーダル -->
    <div id="zen-gauge-modal" class="modal zen-modal" style="display: none;">
        <div class="zen-modal-content">
            <h2>坐禅</h2>
            <div class="zen-progress-bar">
                <div id="zen-progress" class="zen-progress-fill"></div>
            </div>
            <p id="zen-time-display">0:00 / 1:00:00</p>
        </div>
    </div>

    <!-- 喝！表示 -->
    <div id="katsu-display" class="katsu" style="display: none;">喝！</div>

    <!-- 除夜の鐘イベント -->
    <div id="bell-event" class="bell-event" style="display: none;">
        <div class="bell-icon">🔔</div>
        <div class="bell-shine"></div>
    </div>

    <!-- 鐘ブースト表示 -->
    <div id="bell-boost-indicator" class="bell-boost-indicator" style="display: none;">
        <span class="boost-icon">🔔</span>
        <span class="boost-text">108x</span>
        <span id="boost-timer" class="boost-timer">30s</span>
    </div>

    <!-- 通知エリア -->
    <div id="notification-area"></div>

    <!-- JavaScript -->
    <script src="js/lib/break_infinity.min.js"></script>
    <script src="js/utils/constants.js"></script>
    <script src="js/utils/save.js"></script>
    <script src="js/utils/debug.js"></script>
    <script src="js/game/core.js"></script>
    <script src="js/game/buildings.js"></script>
    <script src="js/game/upgrades.js"></script>
    <script src="js/game/prestige.js"></script>
    <script src="js/game/zen.js"></script>
    <script src="js/game/bell.js"></script>
    <script src="js/ui/display.js"></script>
    <script src="js/ui/effects.js"></script>
    <script src="js/ui/modal.js"></script>
    <script src="js/ui/notifications.js"></script>
    <script src="js/ui/settings.js"></script>
    <script src="js/ui/stats.js"></script>
    <script src="js/ui/ticker.js"></script>
    <script src="js/ui/hamburger.js"></script>
    <script src="js/ui/mobile.js"></script>
    <script src="js/main.js"></script>
</body>

</html>